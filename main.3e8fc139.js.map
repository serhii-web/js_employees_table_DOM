{"version":3,"sources":["scripts/main.js"],"names":["curentTitleName","targetTag","body","document","querySelector","tableHead","tableBody","createInput","title","label","createElement","innerText","input","setAttribute","toLowerCase","append","select","forEach","citie","option","createForm","form","button","th","querySelectorAll","classList","add","tag","addEventListener","e","childArr","children","targetOnHead","target","targetIndex","cellIndex","sort","a","b","methodReverse","A","B","Number","isInteger","localeCompare","reverse","el","remove","closest","message","tableForm","targetText","index","elA","elB","firstElement","cells","secondElement","includes","replace","validation","ageValue","nameValue","positionValue","length","showMessage","info","statusInfo","container","description","toUpperCase","setTimeout","createEmployee","formInputs","tr","tagName","td","value","name","toLocaleString","preventDefault","firstElementChild","targetTextContent","className","focus","push","code"],"mappings":"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","file":"main.3e8fc139.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\nconst body = document.querySelector('body');\nconst tableHead = document.querySelector('thead');\nconst tableBody = document.querySelector('tbody');\nlet curentTitleName;\n\ntableHead.addEventListener('click', (e) => {\n  const childArr = [...tableBody.children];\n  const targetOnHead = e.target.innerText;\n  const targetIndex = e.target.cellIndex;\n\n  if (curentTitleName !== targetOnHead) {\n    childArr.sort((a, b) => {\n      const [A, B] = methodReverse(targetOnHead, targetIndex, a, b);\n\n      if (Number.isInteger(A)) {\n        return A - B;\n      }\n\n      return A.localeCompare(B);\n    });\n    curentTitleName = targetOnHead;\n  } else {\n    childArr.reverse();\n    curentTitleName = '';\n  }\n\n  childArr.forEach(el => tableBody.append(el));\n});\n\nlet targetTag;\n\ntableBody.addEventListener('click', (e) => {\n  if (targetTag) {\n    targetTag.classList.remove('active');\n  };\n\n  targetTag = e.target.closest('tr');\n  e.target.closest('tr').classList.add('active');\n});\n\nfunction createInput(title) {\n  const label = document.createElement('label');\n  const cities = [`Tokyo`, `Singapore`, `London`, `New York`,\n    `Edinburgh`, `San Francisco`];\n\n  label.innerText = title + ':';\n\n  if (title !== 'Office') {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', title.toLowerCase());\n    input.setAttribute('data-qa', title.toLowerCase());\n\n    title === 'Age' || title === 'Salary'\n      ? input.setAttribute('type', 'number')\n      : input.setAttribute('type', 'text');\n    label.append(input);\n  } else {\n    const select = document.createElement('select');\n\n    select.setAttribute('name', title.toLowerCase());\n    select.setAttribute('data-qa', title.toLowerCase());\n\n    cities.forEach(citie => {\n      const option = document.createElement('option');\n\n      option.innerText = citie;\n      select.append(option);\n    });\n    label.append(select);\n  }\n\n  return label;\n}\n\nfunction createForm() {\n  const form = document.createElement('form');\n  const button = document.createElement('button');\n  const th = tableHead.querySelectorAll('tr>th');\n\n  form.classList.add(`new-employee-form`);\n  button.innerText = 'Save to table';\n\n  th.forEach(tag => {\n    form.append(createInput(tag.innerText));\n  });\n  form.append(button);\n  body.append(form);\n}\n\ncreateForm();\n\nconst tableForm = document.querySelector('form');\n\ntableForm.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const nameValue = tableForm.children[0].firstElementChild.value;\n  const positionValue = tableForm.children[1].firstElementChild.value;\n  const ageValue = tableForm.children[3].firstElementChild.value;\n\n  const result = validation(ageValue, nameValue, positionValue);\n\n  if (result) {\n    createEmployee(tableForm);\n    showMessage(message, 'success');\n  } else {\n    showMessage(message, 'error');\n  }\n});\n\ntableBody.addEventListener('dblclick', (e) => {\n  const input = document.createElement('input');\n  const targetTextContent = e.target.innerText;\n\n  input.className = `cell-input`;\n  input.value = e.target.innerText;\n\n  e.target.innerText = '';\n  e.target.append(input);\n\n  input.focus();\n\n  input.addEventListener('keydown', (push) => {\n    if (push.code === 'Enter') {\n      e.target.innerText = input.value || targetTextContent;\n    }\n  });\n\n  input.addEventListener('blur', () => {\n    e.target.innerText = input.value || targetTextContent;\n  });\n});\n\nlet message;\n\nfunction methodReverse(targetText, index, elA, elB) {\n  const firstElement = elA.cells[index].innerText;\n  const secondElement = elB.cells[index].innerText;\n\n  if (['Age', 'Salary'].includes(targetText)) {\n    const A = +(firstElement.replace('$', '').replace(/,/g, ''));\n    const B = +(secondElement.replace('$', '').replace(/,/g, ''));\n\n    return [A, B];\n  }\n\n  return [firstElement, secondElement];\n}\n\nfunction validation(ageValue, nameValue, positionValue) {\n  if (nameValue.length < 4 || ageValue > 90 || ageValue < 18) {\n    message = nameValue.length < 4\n      ? 'The name must contain no less than 4 letters'\n      : 'The age must be more than 18 and less than 90 year';\n\n    return false;\n  }\n\n  if (positionValue.length < 1) {\n    message = 'Please, write your position';\n\n    return false;\n  } else {\n    message = 'Employee is successfully added to the table';\n\n    return true;\n  }\n}\n\nfunction showMessage(info, statusInfo) {\n  const container = document.createElement('div');\n  const title = document.createElement('h2');\n  const description = document.createElement('p');\n\n  container.setAttribute('data-qa', 'notification');\n  container.classList.add(`notification`, statusInfo);\n\n  title.innerText = statusInfo.toUpperCase();\n\n  description.innerText = info;\n  container.append(title, description);\n  body.append(container);\n\n  setTimeout(() => {\n    container.remove();\n  }, 3000);\n}\n\nfunction createEmployee(formInputs) {\n  const tr = document.createElement('tr');\n\n  [...formInputs].forEach(input => {\n    if (input.tagName !== 'BUTTON') {\n      const td = document.createElement('td');\n\n      td.innerText = input.value;\n\n      if (input.name === 'salary') {\n        td.innerText = input.value > 0\n          ? '$' + (+input.value).toLocaleString('en')\n          : '$' + 0;\n      }\n\n      if (input.name !== 'office') {\n        input.value = '';\n      }\n\n      tr.append(td);\n    }\n  });\n\n  tableBody.append(tr);\n}\n"]}